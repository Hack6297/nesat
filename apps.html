<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>NeaTha Apps ‚Äî Desktop</title>
  <link rel="icon" href="favicon.ico">
  <style>
    /* Vista-like desktop styling */
    html,body{height:100%;margin:0}
    body{font-family:"Segoe UI", Tahoma, sans-serif;background:linear-gradient(180deg,#0f2b57 0%, #5aa0ff 60%);color:#fff;overflow:hidden}

    /* wallpaper: uses assets/wallpaper.png if present, otherwise falls back to a subtle glow */
    .wallpaper{position:fixed;inset:0;pointer-events:none}
    .wallpaper {
      background-image: url('assets/wallpaper.png'), radial-gradient(circle at 10% 20%, rgba(255,255,255,0.06), transparent 8%), linear-gradient(180deg, rgba(255,255,255,0.03), transparent 40%);
      background-size: cover, auto, auto;
      background-position: center center, left top, center top;
      background-repeat: no-repeat, no-repeat, no-repeat;
      filter: blur(0.2px);
    }

    .desktop{position:relative;height:100%;padding:28px 28px 72px 28px;box-sizing:border-box}

    .icons{display:grid;grid-template-columns:repeat(6,108px);grid-auto-rows:120px;gap:18px;align-content:start}

    .desktop-icon{width:108px;height:120px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;color:#fff;text-align:center;cursor:default;user-select:none}
    .icon-link{display:flex;flex-direction:column;align-items:center;text-decoration:none;color:inherit}
    .icon-img{width:72px;height:72px;border-radius:8px;background:rgba(255,255,255,0.12);display:flex;align-items:center;justify-content:center;font-size:28px;box-shadow:0 8px 20px rgba(0,0,0,0.45);}
    .icon-label{margin-top:8px;font-size:13px;color:rgba(255,255,255,0.95);text-shadow:0 1px 0 rgba(0,0,0,0.6)}

    .desktop-icon.selected .icon-img{outline:3px solid rgba(255,255,255,0.22);box-shadow:0 8px 20px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.06)}

    /* taskbar at bottom */
    .taskbar{position:fixed;left:0;right:0;bottom:0;height:56px;background:linear-gradient(180deg,rgba(0,0,0,0.12),rgba(0,0,0,0.2));display:flex;align-items:center;padding:6px 12px;box-shadow:0 -6px 18px rgba(0,0,0,0.4)}
    .start-btn{display:flex;align-items:center;gap:8px;padding:6px 10px;background:linear-gradient(180deg,#ffffff22,#ffffff10);border-radius:6px;color:#fff;text-decoration:none;font-weight:700}
    .taskbar .tray{margin-left:auto;color:#fff;opacity:0.9}

    /* responsive */
    @media (max-width:900px){.icons{grid-template-columns:repeat(4,108px)} }
    @media (max-width:600px){.icons{grid-template-columns:repeat(3,108px);gap:12px;padding-bottom:90px}}
  </style>
</head>
<body>
  <div class="wallpaper"></div>
  <div class="desktop" id="desktop">
    <div class="icons" id="icons"></div>
  </div>

  <div class="taskbar">
    <a class="start-btn" href="search.html">NeaTha Start</a>
    <div class="tray">‚öôÔ∏è ‚è∞ üîä</div>
  </div>

  <script>
    // Apps to show on desktop
    const apps = [
      {name:'NeaTha Hub', href:'apps/neatha.html', icon:'üè†'},
      {name:'Polyblocks', href:'apps/polyblocks.html', icon:'üéÆ'},
      {name:'eShop', href:'apps/eshop.html', icon:'üõí'},
      {name:'VR o360', href:'apps/vr_o360.html', icon:'üï∂Ô∏è'},
      {name:'Videoss', href:'apps/videoss.html', icon:'üì∫'},
      {name:'Settings', href:'apps/settings.html', icon:'‚öôÔ∏è'}
    ];

    const icons = document.getElementById('icons');

    function makeIcon(app){
      const el = document.createElement('div');
      el.className = 'desktop-icon';

      const img = document.createElement('div');
      img.className = 'icon-img';
      img.textContent = app.icon;

      const label = document.createElement('div');
      label.className = 'icon-label';
      label.textContent = app.name;


      // Wrap icon and label in a clickable link so single-click opens the app
      const link = document.createElement('a');
      link.className = 'icon-link';
      link.href = app.href;
      link.title = app.name;

      link.appendChild(img);
      link.appendChild(label);

      el.appendChild(link);

      // single click selects (visual) but clicking the link will navigate
      el.addEventListener('click', (e) => {
        document.querySelectorAll('.desktop-icon').forEach(i=>i.classList.remove('selected'));
        el.classList.add('selected');
      });

      // double click also opens (redundant with link, but kept for keyboard users)
      el.addEventListener('dblclick', (e) => {
        window.location.href = app.href;
      });

      // keyboard Enter to open when selected
      el.tabIndex = 0;
      el.addEventListener('keypress', (e)=>{
        if(e.key === 'Enter') window.location.href = app.href;
      });

      return el;
    }

    // Render icons
    apps.forEach(a=>icons.appendChild(makeIcon(a)));

    // Allow desktop double-click to open Apps page when background double-clicked
    document.getElementById('desktop').addEventListener('dblclick', (e)=>{
      // if user double-clicks empty area, open apps overview
      if(e.target.id === 'desktop' || e.target.classList.contains('icons')){
        window.location.href = 'apps.html';
      }
    });

    // Focus first icon for keyboard users
    const first = document.querySelector('.desktop-icon');
    if(first) first.classList.add('selected');
  </script>
</body>
</html>